(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0720f73a"],{"48b5":function(t,a,s){"use strict";s("7464")},7464:function(t,a,s){},b843:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"user-container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-user"},[s("div",{staticClass:"header-media"},[s("img",{staticClass:"user-avatar",attrs:{src:t.userInfo.avatarUrl,alt:""}})]),s("div",{staticClass:"header-title"},[t._v(" "+t._s(t.userInfo.nick)+" ")])]),s("div",{staticClass:"header-setting",on:{click:t.toSetting}},[s("van-icon",{attrs:{name:"arrow"}})],1)]),s("div",{staticClass:"main"},[s("div",{staticClass:"group balance-group"},[s("van-cell",{attrs:{value:"我的钱包"}}),s("van-row",{staticClass:"group-inner"},[s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"balance-group-title"},[t._v(t._s(t.balance))]),s("div",{staticClass:"balance-group-txt"},[t._v("可用余额(元)")])]),s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"balance-group-title"},[t._v(t._s(t.freeze))]),s("div",{staticClass:"balance-group-txt"},[t._v("冻结金额(元)")])]),s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"balance-group-title"},[t._v(t._s(t.score))]),s("div",{staticClass:"balance-group-txt"},[t._v("剩余积分(元)")])]),s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"balance-group-title"},[t._v(t._s(t.totleConsumed))]),s("div",{staticClass:"balance-group-txt"},[t._v("累计消费(元)")])])],1)],1),s("div",{staticClass:"group balance-group"},[s("van-cell",{attrs:{value:"全部订单","is-link":"",to:"/order-list"}}),s("van-row",{staticClass:"group-inner"},[s("van-col",{attrs:{offset:"2",span:"4"}},[s("router-link",{attrs:{to:"/order-list?status=0"}},[s("div",{staticClass:"balance-group-title"},[s("van-icon",{attrs:{name:"pending-payment",badge:t.orderCount.count_id_no_pay}})],1),s("div",{staticClass:"balance-group-txt"},[t._v("待付款")])])],1),s("van-col",{attrs:{span:"4"}},[s("router-link",{attrs:{to:"/order-list?status=1"}},[s("div",{staticClass:"balance-group-title"},[s("van-icon",{attrs:{name:"tosend",badge:t.orderCount.count_id_no_transfer}})],1),s("div",{staticClass:"balance-group-txt"},[t._v("待发货")])])],1),s("van-col",{attrs:{span:"4"}},[s("router-link",{attrs:{to:"/order-list?status=2"}},[s("div",{staticClass:"balance-group-title"},[s("van-icon",{attrs:{name:"logistics",badge:t.orderCount.count_id_no_confirm}})],1),s("div",{staticClass:"balance-group-txt"},[t._v("待收货")])])],1),s("van-col",{attrs:{span:"4"}},[s("router-link",{attrs:{to:"/order-list?status=3"}},[s("div",{staticClass:"balance-group-title"},[s("van-icon",{attrs:{name:"comment-o",badge:t.orderCount.count_id_no_reputation}})],1),s("div",{staticClass:"balance-group-txt"},[t._v("评价")])])],1),s("van-col",{attrs:{span:"4"}},[s("router-link",{attrs:{to:"/order-list"}},[s("div",{staticClass:"balance-group-title"},[s("van-icon",{attrs:{name:"after-sale"}})],1),s("div",{staticClass:"balance-group-txt"},[t._v("退款/售后")])])],1)],1)],1),s("div",{staticClass:"group balance-group"},[s("van-cell",{attrs:{value:"常用"}}),s("van-row",{staticClass:"group-inner"},[s("van-grid",{attrs:{"column-num":4}},t._l(t.tools,(function(t,a){return s("van-grid-item",{key:a,attrs:{icon:t.icon,text:t.title,to:t.path}})})),1)],1)],1),s("div",{staticClass:"group balance-group"},[s("van-cell",{attrs:{value:"关于","is-link":""},on:{click:t.onShowAbout}}),s("van-cell",{attrs:{value:"日志","is-link":""}})],1)]),s("van-tabbar",{attrs:{route:"","active-color":"#ff6700"},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[s("van-tabbar-item",{attrs:{replace:"",to:"/home",icon:"home-o"}},[t._v(" 首页 ")]),s("van-tabbar-item",{attrs:{replace:"",to:"/cart",icon:"cart-o"}},[t._v(" 购物车 ")]),s("van-tabbar-item",{attrs:{replace:"",to:"/user",icon:"manager-o"}},[t._v(" 我的 ")])],1)],1)},o=[],n=s("d072"),i={data:function(){return{active:3,userInfo:{},balance:0,freeze:0,score:0,totleConsumed:0,orderCount:{},tools:[{icon:"balance-o",title:"资金明细",path:"/cashlog"},{icon:"star-o",title:"我的收藏",path:"/favgoods"},{icon:"coupon-o",title:"优惠券",path:"/coupon"},{icon:"location-o",title:"收货地址",path:"/address-list"},{icon:"setting-o",title:"设置",path:"/setting"}]}},created:function(){this.getUserDetail(),this.getUserAmount(),this.getOrderList()},methods:{getUserAmount:function(){var t=this;this.$request.get("/user/amount",{token:n["a"].storage.get("token")}).then((function(a){console.log("账户余额",a),t.balance=a.data.balance,t.freeze=a.data.freeze,t.score=a.data.score,t.totleConsumed=a.data.totleConsumed}))},getUserDetail:function(){var t=this;this.$request.get("/user/detail",{token:n["a"].storage.get("token")}).then((function(a){console.log("用户详情",a),0===a.code&&(t.userInfo=a.data.base)}))},getOrderList:function(){var t=this;this.$request.post("/order/statistics",{token:n["a"].storage.get("token")}).then((function(a){console.log("用户订单",a),0===a.code&&(t.orderCount=a.data)}))},onShowAbout:function(){this.$dialog.alert({message:this.$store.state.globalData.desc}).then((function(){}))},toSetting:function(){this.$router.push({path:"/setting"})}}},r=i,c=(s("48b5"),s("2877")),l=Object(c["a"])(r,e,o,!1,null,"57c45a1a",null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-0720f73a.e5b1f331.js.map